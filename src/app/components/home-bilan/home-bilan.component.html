<!--
  ~ Copyright (c) 28/07/2022 18:08
  ~ @author Ronald Tchuekou
  ~ @email ronaldtchuekou@gmail.com
  -->

<div class='title'>Bilan de tous les candidats</div>
<div class='container relative'>
  <div class='grid grid-cols-2 gap-3 w-ful mb-2'>
    <app-input-select
      (valueChange)='optionChange($event)'
      [(value)]='cursus'
      [content]='cursus_list'
      label='Cursus'></app-input-select>
    <app-input-select
      (valueChange)='filiereChange($event)'
      [content]='filterFilieres(cursus)'
      [value]='filiere'
      label='Filières'></app-input-select>
  </div>
  <div class='grid grid-cols-2 gap-5 w-full'>
    <div class='flex flex-col justify-center items-center space-y-2'>
      <div class='w-44 h-44 overflow-hidden'>
        <app-empty-state
          *ngIf='search.length === 0'
          text='No Data'></app-empty-state>
        <app-stat-pie-chart
          *ngIf='search.length !== 0'
          [pieChartData]='stats_content.allCandidate'
        ></app-stat-pie-chart>
      </div>
      <div class='text-xs text-center' style='color: #ff4190'>
        {{search.length}} candidats inscris
      </div>
    </div>

    <div class='flex flex-col justify-center items-center space-y-2'>
      <div class='w-44 h-44 overflow-hidden'>
        <app-empty-state
          *ngIf='passCandidates.length === 0'
          text='No Data'></app-empty-state>
        <app-stat-pie-chart
          *ngIf='passCandidates.length !== 0'
          [pieChartData]='stats_content.passCandidate'
        ></app-stat-pie-chart>
      </div>
      <div class='text-xs text-center' style='color: #3191ff'>
        {{passCandidates.length}} candidats admis/en attente
      </div>
    </div>

    <!--
    <div class='flex flex-col justify-center items-center space-y-2'>
      <div class='w-28 h-28'>
        <app-circular-progress
          [value]='constantService.getPercentage(search.length, candidates_f.length)'
          color='#9B51E0'></app-circular-progress>
      </div>
      <div class='text-xs text-center' style='color: #9B51E0'>
        {{candidates_f.length}} candidats de sex féminin
      </div>
    </div>
    <div class='flex flex-col justify-center items-center space-y-2'>
      <div class='w-28 h-28'>
        <app-circular-progress
          [value]='constantService.getPercentage(search.length, candidates_m.length)'
          color='#27AE60'></app-circular-progress>
      </div>
      <div class='text-xs text-center' style='color: #27AE60'>
        {{candidates_m.length}} candidats de sex masculin
      </div>
    </div>
    -->
  </div>
  <div *ngIf='loading' class='absolute top-0 right-0 p-2'>
    <div class='spinner' style='height: 20px; width: 20px'></div>
  </div>
</div>

<!--
  ~ Copyright (c) 08/08/2022 09:20
  ~ @author Ronald Tchuekou
  ~ @email ronaldtchuekou@gmail.com
  -->

<div class='relative border-b flex flex-row items-center'>
  <h1 class='text-xl'>Exportation</h1>
  <div class='absolute -top-3 -right-3'>
    <button
      [mat-dialog-close]='null'
      class='hover:bg-gray-100' mat-icon-button>
      <mat-icon>close</mat-icon>
    </button>
  </div>
</div>
<mat-dialog-content>
  <div *ngFor='let list of getKeys(candidates)' class='w-full'>
    <h2 class='text-lg text-gray-600 my-2'>
      Niveau : <span class='text-orange-400'>{{level}}</span>
      Cursus : <span class='text-orange-400'>{{cursus}}</span>
      Fili√®re : <span class='text-orange-400'>{{getFiliere(list)}}</span>
    </h2>
    <div>
      <h3 class='text-base text-gray-500 py-2'>Liste principale {{principalList(candidates[list]).length}}
        Candidates</h3>
      <div class='w-[700px]'>
        <app-table-display
          [candidates]='principalList(candidates[list])'
          [filieres]='filieres'
          [regions]='regions'></app-table-display>
      </div>
    </div>
    <div>
      <h3 class='text-base text-gray-500 py-2'>Liste d'attente {{attenteList(candidates[list]).length}} Candidates</h3>
      <div class='w-[700px]'>
        <app-table-display
          [candidates]='attenteList(candidates[list])'
          [filieres]='filieres'
          [regions]='regions'></app-table-display>
      </div>
    </div>
  </div>
</mat-dialog-content>
<mat-dialog-actions align='end' class='border-t'>
  <button (click)='exportPDF()' class='app-button green' mat-button>
    <mat-icon>picture_as_pdf</mat-icon>
    PDf
  </button>
  <button (click)='exportCSV()' class='app-button warning' mat-button>
    <mat-icon>description</mat-icon>
    CSV
  </button>
  <button (click)='exportEXCEL()' class='app-button' mat-button>
    EXCEL
  </button>
</mat-dialog-actions>
